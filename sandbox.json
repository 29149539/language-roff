{
	"name": "Sandbox",
	"scopeName": "source.sandbox",
	"fileTypes": [],
	"patterns": [
		{
			"begin": "\\\\\"",
			"end": "$",
			"name": "comment.line"
		},
		{
			"name": "box",
			"begin": "^.BI",
			"end": "(?<![^\\\\]\\\\|^\\\\)(?=\\n)|(?=\\\\\")",
			"patterns": [
				{
					"include": "#redQuoted"
				},
				{
					"include": "#red"
				},
				{
					"include": "#greenQuoted"
				},
				{
					"include": "#green"
				},
				{
					"include": "#escape-red-to-green"
				},
				{
					"include": "#escape-green-to-red"
				}
			]
		}
	],
	"repository": {
		"redQuoted": {
			"name": "test-1",
			"begin": "(?x)\n[ \t]+\n\"",
			"end": "(?x)\n\"[ \t]*\n|\n(?=\\\\\")\n|\n(?<![^\\\\]\\\\|^\\\\)(?=\\n)",
			"patterns": [
				{
					"match": "(?:[^\"\\\\]|\"\"|\\\\(?!\").)+(?!$)"
				},
				{
					"include": "tools#escapes"
				}
			]
		},
		"greenQuoted": {
			"name": "test-2",
			"begin": "\"",
			"end": "(?x)\n\"\n(\n\t[^\"\\s]+\n\t[ \t]*\n)?\n|\n(?=\\\\\")\n|\n(?<![^\\\\]\\\\|^\\\\)(?=\\n)",
			"endCaptures": {
				"1": {
					"name": "test-1"
				}
			},
			"patterns": [
				{
					"match": "(?:[^\"\\\\]|\"\"|\\\\(?!\").)+(?!$)"
				},
				{
					"include": "tools#escapes"
				}
			]
		},
		"red": {
			"begin": "(?x)\n[ \t]+\n(?!\")\n(?:\n\t[^\\s\"\\\\]\n\t|\n\t\\\\(?!\").\n)+",
			"end": "[ \t]+|(?<![^\\\\]\\\\|^\\\\)(?=\\n)|(?=\\\\\")",
			"name": "test-1.faded",
			"patterns": [
				{
					"include": "tools#escapes"
				}
			]
		},
		"green": {
			"name": "test-2.faded",
			"begin": "(?x)\n(?<=^|\\s|\")\n(?!\"|\\\\\")\n(?:\n\t[^\\s\"\\\\]\n\t|\n\t\\\\(?!\").\n)+",
			"end": "(?=[ \t])|(?<![^\\\\]\\\\|^\\\\)(?=\\n)|(?=\\\\\")",
			"beginCaptures": {
				"0": {
					"name": "begin"
				}
			},
			"patterns": [
				{
					"include": "tools#escapes"
				}
			]
		},
		"escape-green-to-red": {
			"begin": "\\\\$\\n",
			"end": "^[ \t]*",
			"name": "test-3"
		},
		"escape-red-to-green": {
			"begin": "[ \t]+\\\\$\\n",
			"end": "^",
			"name": "test-3"
		}
	}
}